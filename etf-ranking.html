<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETF 랭킹 분석 - YHLab</title>
    <meta name="description" content="실시간 ETF 랭킹과 상세한 투자 정보를 제공합니다. 수익률, 거래량, 위험도별 분석 데이터를 확인하세요.">

    <!-- 폰트 및 아이콘 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 헤더 */
        header {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 900;
            color: #667eea;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #667eea;
        }

        .back-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white !important;
            padding: 8px 20px;
            border-radius: 20px;
            transition: transform 0.3s ease;
        }

        .back-btn:hover {
            transform: scale(1.05);
        }

        /* 페이지 헤더 */
        .page-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0 40px;
            text-align: center;
        }

        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .page-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* 컨트롤 패널 */
        .controls {
            background: white;
            padding: 30px;
            margin: 30px 0;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            align-items: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-group label {
            font-weight: 600;
            color: #555;
        }

        .control-group select,
        .control-group input {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .refresh-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .refresh-btn:hover {
            transform: scale(1.05);
        }

        /* 차트 섹션 */
        .chart-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .chart-card h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #333;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* ETF 테이블 */
        .table-section {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            margin: 30px 0;
        }

        .table-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
        }

        .table-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .table-container {
            overflow-x: auto;
        }

        .etf-table {
            width: 100%;
            border-collapse: collapse;
        }

        .etf-table th,
        .etf-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        .etf-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #555;
            position: sticky;
            top: 0;
        }

        .etf-table tr:hover {
            background: #f8f9fa;
        }

        .rank {
            font-weight: 700;
            color: #667eea;
        }

        .etf-name {
            font-weight: 600;
        }

        .etf-code {
            color: #666;
            font-size: 0.9rem;
        }

        .positive {
            color: #28a745;
            font-weight: 600;
        }

        .negative {
            color: #dc3545;
            font-weight: 600;
        }

        .neutral {
            color: #6c757d;
            font-weight: 600;
        }

        .volume {
            font-size: 0.9rem;
        }

        .risk-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-align: center;
        }

        .risk-low {
            background: #d4edda;
            color: #155724;
        }

        .risk-medium {
            background: #fff3cd;
            color: #856404;
        }

        .risk-high {
            background: #f8d7da;
            color: #721c24;
        }

        /* 통계 카드 */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #667eea;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-weight: 500;
        }

        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .chart-section {
                grid-template-columns: 1fr;
            }

            .controls-grid {
                grid-template-columns: 1fr;
            }

            .nav-links {
                gap: 1rem;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .etf-table th,
            .etf-table td {
                padding: 10px;
                font-size: 0.9rem;
            }
        }

        /* 로딩 애니메이션 */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <!-- 헤더 -->
    <header>
        <nav class="container">
            <a href="index.html" class="logo">YHLab</a>
            <ul class="nav-links">
                <li><a href="index.html#home">홈</a></li>
                <li><a href="index.html#products">프로덕트</a></li>
                <li><a href="index.html" class="back-btn">← 메인으로</a></li>
            </ul>
        </nav>
    </header>

    <!-- 페이지 헤더 -->
    <section class="page-header">
        <div class="container">
            <h1><i class="fas fa-chart-line"></i> ETF 랭킹 분석</h1>
            <p>실시간 ETF 데이터 분석 및 투자 정보 제공</p>
        </div>
    </section>

    <div class="container">
        <!-- 컨트롤 패널 -->
        <section class="controls">
            <div class="controls-grid">
                <div class="control-group">
                    <label for="sortBy">정렬 기준</label>
                    <select id="sortBy">
                        <option value="return">수익률</option>
                        <option value="volume">거래량</option>
                        <option value="name">이름</option>
                        <option value="risk">위험도</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="period">기간</label>
                    <select id="period">
                        <option value="1d">1일</option>
                        <option value="1w">1주</option>
                        <option value="1m" selected>1개월</option>
                        <option value="3m">3개월</option>
                        <option value="1y">1년</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="category">카테고리</label>
                    <select id="category">
                        <option value="all">전체</option>
                        <option value="equity">주식형</option>
                        <option value="bond">채권형</option>
                        <option value="commodity">원자재</option>
                        <option value="sector">섹터</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="search">검색</label>
                    <input type="text" id="search" placeholder="ETF 이름 또는 코드 검색">
                </div>
                <div class="control-group">
                    <button class="refresh-btn" onclick="refreshData()">
                        <i class="fas fa-sync-alt"></i> 새로고침
                    </button>
                </div>
            </div>
        </section>

        <!-- 통계 카드 -->
        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="stat-value" id="totalETFs">145</div>
                <div class="stat-label">전체 ETF 수</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-value positive" id="avgReturn">+2.34%</div>
                <div class="stat-label">평균 수익률</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="stat-value" id="totalVolume">₩2.4조</div>
                <div class="stat-label">총 거래량</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-fire"></i>
                </div>
                <div class="stat-value" id="topPerformer">KODEX 200</div>
                <div class="stat-label">최고 수익률 ETF</div>
            </div>
        </section>

        <!-- 차트 섹션 -->
        <section class="chart-section">
            <div class="chart-card">
                <h3><i class="fas fa-pie-chart"></i> 카테고리별 분포</h3>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3><i class="fas fa-bar-chart"></i> 수익률 분포</h3>
                <div class="chart-container">
                    <canvas id="returnChart"></canvas>
                </div>
            </div>
        </section>

        <!-- ETF 랭킹 테이블 -->
        <section class="table-section">
            <div class="table-header">
                <h2><i class="fas fa-list-ol"></i> ETF 랭킹</h2>
            </div>
            <div class="table-container">
                <table class="etf-table" id="etfTable">
                    <thead>
                        <tr>
                            <th>순위</th>
                            <th>ETF 명</th>
                            <th>수익률</th>
                            <th>거래량</th>
                            <th>순자산</th>
                            <th>위험도</th>
                            <th>분야</th>
                        </tr>
                    </thead>
                    <tbody id="etfTableBody">
                        <!-- 데이터는 JavaScript로 동적 생성 -->
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <script>
        // 샘플 ETF 데이터
        const etfData = [
            {
                name: "KODEX 200",
                code: "069500",
                return: 3.45,
                volume: "₩1,234억",
                nav: "₩8,765억",
                risk: "medium",
                category: "주식형",
                sector: "대형주"
            },
            {
                name: "TIGER 미국나스닥100",
                code: "133690",
                return: 5.67,
                volume: "₩987억",
                nav: "₩6,543억",
                risk: "high",
                category: "해외주식",
                sector: "기술주"
            },
            {
                name: "KODEX 코스닥150",
                code: "229200",
                return: -1.23,
                volume: "₩765억",
                nav: "₩4,321억",
                risk: "high",
                category: "주식형",
                sector: "중소형주"
            },
            {
                name: "TIGER 200IT",
                code: "102110",
                return: 4.89,
                volume: "₩654억",
                nav: "₩3,210억",
                risk: "medium",
                category: "섹터",
                sector: "IT"
            },
            {
                name: "KODEX 단기채권",
                code: "153130",
                return: 0.45,
                volume: "₩543억",
                nav: "₩2,109억",
                risk: "low",
                category: "채권형",
                sector: "단기채권"
            },
            {
                name: "TIGER 차이나전기차",
                code: "371460",
                return: 7.23,
                volume: "₩432억",
                nav: "₩1,876억",
                risk: "high",
                category: "테마",
                sector: "전기차"
            },
            {
                name: "KODEX 골드선물",
                code: "132030",
                return: 2.11,
                volume: "₩321억",
                nav: "₩1,654억",
                risk: "medium",
                category: "원자재",
                sector: "금"
            },
            {
                name: "TIGER 미국S&P500",
                code: "360750",
                return: 4.56,
                volume: "₩298억",
                nav: "₩1,432억",
                risk: "medium",
                category: "해외주식",
                sector: "대형주"
            },
            {
                name: "KODEX 바이오",
                code: "091230",
                return: -2.34,
                volume: "₩276억",
                nav: "₩1,210억",
                risk: "high",
                category: "섹터",
                sector: "바이오"
            },
            {
                name: "TIGER 배당성장",
                code: "305720",
                return: 1.78,
                volume: "₩198억",
                nav: "₩987억",
                risk: "low",
                category: "배당",
                sector: "배당주"
            }
        ];

        // 테이블 렌더링 함수
        function renderTable(data = etfData) {
            const tbody = document.getElementById('etfTableBody');
            tbody.innerHTML = '';

            data.forEach((etf, index) => {
                const row = document.createElement('tr');

                const returnClass = etf.return > 0 ? 'positive' : etf.return < 0 ? 'negative' : 'neutral';
                const riskClass = `risk-${etf.risk}`;

                row.innerHTML = `
                    <td class="rank">${index + 1}</td>
                    <td>
                        <div class="etf-name">${etf.name}</div>
                        <div class="etf-code">${etf.code}</div>
                    </td>
                    <td class="${returnClass}">${etf.return > 0 ? '+' : ''}${etf.return}%</td>
                    <td class="volume">${etf.volume}</td>
                    <td>${etf.nav}</td>
                    <td>
                        <span class="risk-badge ${riskClass}">
                            ${etf.risk === 'low' ? '낮음' : etf.risk === 'medium' ? '보통' : '높음'}
                        </span>
                    </td>
                    <td>${etf.sector}</td>
                `;

                tbody.appendChild(row);
            });
        }

        // 차트 초기화
        function initCharts() {
            // 카테고리별 분포 차트
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            new Chart(categoryCtx, {
                type: 'pie',
                data: {
                    labels: ['주식형', '해외주식', '섹터', '채권형', '테마', '원자재', '배당'],
                    datasets: [{
                        data: [35, 25, 15, 10, 8, 4, 3],
                        backgroundColor: [
                            '#667eea',
                            '#764ba2',
                            '#f093fb',
                            '#f5576c',
                            '#4facfe',
                            '#43e97b',
                            '#fa709a'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // 수익률 분포 차트
            const returnCtx = document.getElementById('returnChart').getContext('2d');
            new Chart(returnCtx, {
                type: 'bar',
                data: {
                    labels: ['-5% 이하', '-5~0%', '0~2%', '2~5%', '5~10%', '10% 이상'],
                    datasets: [{
                        label: 'ETF 개수',
                        data: [5, 18, 42, 35, 28, 12],
                        backgroundColor: [
                            '#dc3545',
                            '#fd7e14',
                            '#ffc107',
                            '#28a745',
                            '#20c997',
                            '#667eea'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // 데이터 새로고침
        function refreshData() {
            const button = document.querySelector('.refresh-btn');
            const originalText = button.innerHTML;

            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 새로고침 중...';
            button.disabled = true;

            // 시뮬레이션: 2초 후 새로고침 완료
            setTimeout(() => {
                // 수익률을 랜덤하게 업데이트
                etfData.forEach(etf => {
                    etf.return = (Math.random() * 10 - 2).toFixed(2);
                });

                renderTable();
                updateStats();

                button.innerHTML = originalText;
                button.disabled = false;
            }, 2000);
        }

        // 통계 업데이트
        function updateStats() {
            const avgReturn = (etfData.reduce((sum, etf) => sum + parseFloat(etf.return), 0) / etfData.length).toFixed(2);
            const topPerformer = etfData.reduce((max, etf) => parseFloat(etf.return) > parseFloat(max.return) ? etf : max, etfData[0]);

            document.getElementById('avgReturn').textContent = `${avgReturn > 0 ? '+' : ''}${avgReturn}%`;
            document.getElementById('avgReturn').className = avgReturn > 0 ? 'stat-value positive' : avgReturn < 0 ? 'stat-value negative' : 'stat-value neutral';
            document.getElementById('topPerformer').textContent = topPerformer.name;
        }

        // 검색 및 필터링
        function setupFilters() {
            const searchInput = document.getElementById('search');
            const sortSelect = document.getElementById('sortBy');
            const categorySelect = document.getElementById('category');

            function filterAndSort() {
                let filteredData = [...etfData];

                // 카테고리 필터
                const category = categorySelect.value;
                if (category !== 'all') {
                    filteredData = filteredData.filter(etf =>
                        etf.category.includes(category) || etf.sector.includes(category)
                    );
                }

                // 검색 필터
                const searchTerm = searchInput.value.toLowerCase();
                if (searchTerm) {
                    filteredData = filteredData.filter(etf =>
                        etf.name.toLowerCase().includes(searchTerm) ||
                        etf.code.includes(searchTerm)
                    );
                }

                // 정렬
                const sortBy = sortSelect.value;
                filteredData.sort((a, b) => {
                    switch (sortBy) {
                        case 'return':
                            return parseFloat(b.return) - parseFloat(a.return);
                        case 'volume':
                            return b.volume.localeCompare(a.volume);
                        case 'name':
                            return a.name.localeCompare(b.name);
                        case 'risk':
                            const riskOrder = { 'low': 1, 'medium': 2, 'high': 3 };
                            return riskOrder[a.risk] - riskOrder[b.risk];
                        default:
                            return 0;
                    }
                });

                renderTable(filteredData);
            }

            searchInput.addEventListener('input', filterAndSort);
            sortSelect.addEventListener('change', filterAndSort);
            categorySelect.addEventListener('change', filterAndSort);
        }

        // 초기화
        document.addEventListener('DOMContentLoaded', function () {
            renderTable();
            initCharts();
            setupFilters();
            updateStats();
        });
    </script>
</body>

</html>